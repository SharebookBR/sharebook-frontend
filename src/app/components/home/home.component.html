<!--jumbotron-->

<img src="assets/img/banner3.jpeg" class="img-fluid w-100" alt="Escolha o livro. Leve para casa. Não custa nada." />

<div class="container">
  <!-- Categories Section -->
  <section class="categories-section" *ngIf="categories.length > 0">
    <h2 class="text-center categories-title">Navegue por categorias</h2>
    <div class="categories-grid">
      <!-- Categoria com livros - clicável -->
      <a *ngFor="let category of categories"
         [routerLink]="getCategoryBookCount(category.id) > 0 ? ['/categorias', category.slug] : null"
         class="category-card"
         [class.has-books]="getCategoryBookCount(category.id) > 0"
         [class.no-books]="getCategoryBookCount(category.id) === 0">
        <div class="category-icon">
          <i class="fa fa-bookmark"></i>
        </div>
        <div class="category-info">
          <span class="category-name">{{ category.name }}</span>
          <span class="category-count">{{ getCategoryBookCount(category.id) }} livro(s)</span>
        </div>
        <div class="category-arrow" *ngIf="getCategoryBookCount(category.id) > 0">
          <i class="fa fa-chevron-right"></i>
        </div>
      </a>
    </div>
  </section>

  <h1 class="text-center display-4" *ngIf="!hasBook">
    Nenhum livro encontrado &#9785; <br />Ajude o Sharebook e
    <strong><a [routerLink]="['/livros/doar']">doe um livro agora</a></strong>
  </h1>
  <h1 class="text-center display-4" *ngIf="hasBook">Livros em destaque</h1>
  <div class="row justify-content-center book-covers" *ngIf="hasBook">
    <figure class="figure" *ngFor="let book of availableBooks">
      <div class="book-cover-container">
        <a href="/livros/{{ book.slug }}" title="Detalhes do Livro">
          <img src="{{ book.imageUrl }}" class="figure-img img-fluid rounded" alt="{{ book.title }}" />
        </a>
        <span class="book-type-badge" [ngClass]="book.type === 'Eletronic' ? 'badge-ebook' : 'badge-physical'">
          <i class="fa" [ngClass]="book.type === 'Eletronic' ? 'fa-cloud-download' : 'fa-book'"></i>
          {{ book.type === 'Eletronic' ? 'E-book' : 'Físico' }}
        </span>
      </div>
      <figcaption class="figure-caption text-center">
        {{ book.title }}
      </figcaption>
    </figure>
  </div>

  <!-- PRÓXIMOS MEETUPS -->
  <ng-container *ngIf="meetupsUpcoming.length > 0">
    <h1 class="text-center display-4 meetup">Não perca os próximos Meetups!</h1>

    <app-card-meetup [meetup]="meetup" *ngFor="let meetup of meetupsUpcoming"></app-card-meetup>

    <div style="clear: both; height: 20px"></div>
  </ng-container>

  <!-- MEETUPS JÁ REALIZADOS -->
  <h1 class="text-center display-4 meetup">Meetups já realizados</h1>

  <app-card-meetup [meetup]="meetup" *ngFor="let meetup of meetups"></app-card-meetup>
  <div class="meetup" *ngIf="showButtonMoreMeetups">
    <button mat-flat-button color="primary" (click)="showMoreMetups()" style="margin-left: 82px">
      Carregar mais Meetups...
    </button>
  </div>

  <div style="clear: both; height: 20px"></div>
</div>
